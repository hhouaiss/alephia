---
import Layout from '../layouts/Layout.astro';
import AuditModal from '../components/shared/AuditModal.astro';
import Icon from '../components/shared/Icon.astro';
---

<Layout title="Contact - Alefia | IA souveraine pour entreprises françaises">
  <AuditModal />
  
  <!-- Page Header -->
  <div class="bg-primary text-white pt-40 pb-20">
    <div class="container mx-auto px-4">
      <h1 class="text-4xl md:text-5xl font-bold mb-6">Contactez-nous</h1>
      <p class="text-xl max-w-3xl">
        Notre équipe est à votre disposition pour répondre à toutes vos questions sur nos solutions d'IA souveraine.
      </p>
    </div>
  </div>
  
  <!-- Contact Section -->
  <section class="py-20">
    <div class="container mx-auto px-4">
      <div class="grid md:grid-cols-2 gap-12 max-w-6xl mx-auto">
        <!-- Contact Form -->
        <div class="bg-white rounded-2xl shadow-xl p-8">
          <h2 class="text-2xl font-bold mb-6">Envoyez-nous un message</h2>
          
          <form class="space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label for="firstName" class="block text-sm font-medium text-gray-700 mb-1">Prénom</label>
                <input 
                  type="text" 
                  id="firstName" 
                  name="firstName" 
                  class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
                  required
                />
              </div>
              <div>
                <label for="lastName" class="block text-sm font-medium text-gray-700 mb-1">Nom</label>
                <input 
                  type="text" 
                  id="lastName" 
                  name="lastName" 
                  class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
                  required
                />
              </div>
            </div>
            
            <div>
              <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email professionnel</label>
              <input 
                type="email" 
                id="email" 
                name="email" 
                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
                required
              />
            </div>
            
            <div>
              <label for="company" class="block text-sm font-medium text-gray-700 mb-1">Entreprise</label>
              <input 
                type="text" 
                id="company" 
                name="company" 
                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
                required
              />
            </div>
            
            <div>
              <label for="subject" class="block text-sm font-medium text-gray-700 mb-1">Sujet</label>
              <select 
                id="subject" 
                name="subject" 
                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
                required
              >
                <option value="" disabled selected>Sélectionnez un sujet</option>
                <option value="demo">Demande de démonstration</option>
                <option value="pricing">Informations tarifaires</option>
                <option value="technical">Support technique</option>
                <option value="partnership">Proposition de partenariat</option>
                <option value="other">Autre demande</option>
              </select>
            </div>
            
            <div>
              <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Message</label>
              <textarea 
                id="message" 
                name="message" 
                rows="5" 
                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
                required
              ></textarea>
            </div>
            
            <div class="flex items-start">
              <input 
                type="checkbox" 
                id="consent" 
                name="consent" 
                class="mt-1 h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"
                required
              />
              <label for="consent" class="ml-2 block text-sm text-gray-600">
                J'accepte que mes données soient traitées conformément à la <a href="/privacy" class="text-primary hover:underline">politique de confidentialité</a> d'Alefia.
              </label>
            </div>
            
            <button 
              type="submit" 
              class="w-full bg-primary hover:bg-primary-dark text-white font-medium py-3 px-6 rounded-lg transition-colors"
            >
              Envoyer le message
            </button>
          </form>
        </div>
        
        <!-- Contact Information -->
        <div class="flex flex-col justify-between">
          <div>
            <h2 class="text-2xl font-bold mb-6">Nos coordonnées</h2>
            
            <div class="space-y-8">
              <div class="flex items-start">
                <div class="bg-primary/10 p-3 rounded-full mr-4">
                  <Icon name="map-pin" class="w-6 h-6 text-primary" />
                </div>
                <div>
                  <h3 class="font-semibold text-lg">Adresse</h3>
                  <p class="text-gray-600 mt-1">
                    35 Rue du Faubourg Poissonnière<br />
                    75009 Paris, France
                  </p>
                </div>
              </div>
              
              <div class="flex items-start">
                <div class="bg-primary/10 p-3 rounded-full mr-4">
                  <Icon name="mail" class="w-6 h-6 text-primary" />
                </div>
                <div>
                  <h3 class="font-semibold text-lg">Email</h3>
                  <a href="mailto:contact@alefia.fr" class="text-primary hover:underline mt-1 block">
                    contact@alefia.fr
                  </a>
                </div>
              </div>
              
              <div class="flex items-start">
                <div class="bg-primary/10 p-3 rounded-full mr-4">
                  <Icon name="phone" class="w-6 h-6 text-primary" />
                </div>
                <div>
                  <h3 class="font-semibold text-lg">Téléphone</h3>
                  <a href="tel:+33123456789" class="text-primary hover:underline mt-1 block">
                    +33 1 23 45 67 89
                  </a>
                </div>
              </div>
              
              <div class="flex items-start">
                <div class="bg-primary/10 p-3 rounded-full mr-4">
                  <Icon name="clock" class="w-6 h-6 text-primary" />
                </div>
                <div>
                  <h3 class="font-semibold text-lg">Horaires</h3>
                  <p class="text-gray-600 mt-1">
                    Lundi - Vendredi: 9h00 - 18h00<br />
                    Fermé les week-ends et jours fériés
                  </p>
                </div>
              </div>
            </div>
          </div>
          
          <div class="mt-12">
            <h3 class="font-semibold text-lg mb-4">Suivez-nous</h3>
            <div class="flex space-x-4">
              <a href="https://linkedin.com" target="_blank" rel="noopener noreferrer" class="bg-gray-100 hover:bg-primary hover:text-white p-3 rounded-full transition-colors">
                <Icon name="linkedin" class="w-5 h-5" />
              </a>
              <a href="https://twitter.com" target="_blank" rel="noopener noreferrer" class="bg-gray-100 hover:bg-primary hover:text-white p-3 rounded-full transition-colors">
                <Icon name="twitter" class="w-5 h-5" />
              </a>
              <a href="https://facebook.com" target="_blank" rel="noopener noreferrer" class="bg-gray-100 hover:bg-primary hover:text-white p-3 rounded-full transition-colors">
                <Icon name="facebook" class="w-5 h-5" />
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Map Section -->
  <section class="bg-gray-50 py-20">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl font-bold mb-8 text-center">Nous trouver</h2>
      <div class="max-w-6xl mx-auto rounded-2xl overflow-hidden shadow-lg h-96">
        <iframe 
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2624.2214295218523!2d2.3454683!3d48.8731857!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e66e1bdff9a6a7%3A0x36ffd52f692c674!2s35%20Rue%20du%20Faubourg%20Poissonnière%2C%2075009%20Paris!5e0!3m2!1sfr!2sfr!4v1651234567890!5m2!1sfr!2sfr" 
          width="100%" 
          height="100%" 
          style="border:0;" 
          allowfullscreen="" 
          loading="lazy" 
          referrerpolicy="no-referrer-when-downgrade"
        ></iframe>
      </div>
    </div>
  </section>
  
  <!-- FAQ Section -->
  <section class="py-20">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold mb-12 text-center">Questions fréquentes</h2>
      
      <div class="max-w-4xl mx-auto space-y-6">
        <div class="bg-white rounded-xl shadow-md overflow-hidden">
          <button class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center focus:outline-none">
            <span>Comment fonctionne le processus d'audit IA gratuit ?</span>
            <Icon name="chevron-down" class="w-5 h-5 text-gray-500" />
          </button>
          <div class="px-6 pb-4">
            <p class="text-gray-600">
              Notre audit IA gratuit commence par un entretien de 30 minutes pour comprendre vos besoins. Nous analysons ensuite vos processus actuels et identifions les opportunités d'optimisation par l'IA. Sous 48h, vous recevez un rapport détaillé avec nos recommandations et une estimation des gains potentiels.
            </p>
          </div>
        </div>
        
        <div class="bg-white rounded-xl shadow-md overflow-hidden">
          <button class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center focus:outline-none">
            <span>Quels sont les délais de déploiement de vos solutions ?</span>
            <Icon name="chevron-down" class="w-5 h-5 text-gray-500" />
          </button>
          <div class="px-6 pb-4">
            <p class="text-gray-600">
              Nos solutions standard peuvent être déployées en 72h. Pour les projets sur mesure nécessitant des adaptations spécifiques, comptez entre 2 et 4 semaines selon la complexité. Chaque déploiement inclut une formation complète de vos équipes.
            </p>
          </div>
        </div>
        
        <div class="bg-white rounded-xl shadow-md overflow-hidden">
          <button class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center focus:outline-none">
            <span>Comment garantissez-vous la confidentialité de nos données ?</span>
            <Icon name="chevron-down" class="w-5 h-5 text-gray-500" />
          </button>
          <div class="px-6 pb-4">
            <p class="text-gray-600">
              Toutes nos solutions sont hébergées en France sur des serveurs sécurisés. Vos données ne quittent jamais le territoire français et ne sont jamais partagées avec des tiers. Nous utilisons un chiffrement AES-256 et respectons scrupuleusement le RGPD. Nous pouvons également déployer nos solutions sur votre infrastructure privée.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- CTA Final -->
  <section class="bg-primary text-white py-20">
    <div class="container mx-auto px-4 text-center">
      <h2 class="text-3xl font-bold mb-6">Prêt à transformer votre entreprise ?</h2>
      <p class="text-xl mb-8">Obtenez votre audit IA gratuit et découvrez votre potentiel d'optimisation</p>
      <button 
        type="button"
        onclick="openModal()"
        class="bg-secondary hover:bg-secondary-light text-primary font-semibold px-8 py-4 rounded-lg transition-colors text-lg"
      >
        Démarrer mon audit gratuit
      </button>
      <p class="text-sm mt-4 text-gray-300">Déploiement en 72h - Formation incluse</p>
    </div>
  </section>
</Layout>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const faqItems = document.querySelectorAll('.bg-white.rounded-xl.shadow-md');
    
    faqItems.forEach(item => {
      const content = item.querySelector('button + div');
      content.style.height = '0';
      content.style.opacity = '0';
      content.style.visibility = 'hidden';
    });
    
    const faqButtons = document.querySelectorAll('.bg-white.rounded-xl.shadow-md button');
    faqButtons.forEach(button => {
      button.addEventListener('click', () => {
        const content = button.nextElementSibling;
        const icon = button.querySelector('svg');
        
        const isOpen = content.style.visibility === 'visible';
        
        // Close all items
        faqItems.forEach(otherItem => {
          const otherContent = otherItem.querySelector('button + div');
          const otherIcon = otherItem.querySelector('svg');
          otherContent.style.height = '0';
          otherContent.style.opacity = '0';
          otherContent.style.visibility = 'hidden';
          if (otherIcon) otherIcon.style.transform = 'rotate(0deg)';
        });
        
        // If clicked item was closed, open it
        if (!isOpen) {
          content.style.visibility = 'visible';
          content.style.height = content.scrollHeight + 'px';
          content.style.opacity = '1';
          if (icon) icon.style.transform = 'rotate(180deg)';
        }
      });
    });
    
    // Form submission handling
    const contactForm = document.querySelector('form');
    if (contactForm) {
      contactForm.addEventListener('submit', (e) => {
        e.preventDefault();
        
        // Get form data
        const formData = new FormData(contactForm);
        
        // Here you would typically send the data to your backend
        // For now, we'll just show a success message
        const formContainer = contactForm.parentElement;
        formContainer.innerHTML = `
          <div class="text-center py-8">
            <div class="bg-green-100 text-green-800 p-4 rounded-lg mb-6">
              <h3 class="font-bold text-xl mb-2">Message envoyé avec succès !</h3>
              <p>Merci de nous avoir contactés. Notre équipe vous répondra dans les plus brefs délais.</p>
            </div>
            <button 
              type="button"
              onclick="window.location.reload()"
              class="bg-primary hover:bg-primary-dark text-white font-medium py-3 px-6 rounded-lg transition-colors"
            >
              Envoyer un autre message
            </button>
          </div>
        `;
      });
    }
  });
</script>

<style>
  /* FAQ Styles */
  .bg-white.rounded-xl button svg {
    transition: transform 0.3s ease;
  }
  
  .bg-white.rounded-xl button + div {
    transition: all 0.3s ease-in-out;
    overflow: hidden;
  }
  
  /* Form Styles */
  form input:focus,
  form textarea:focus,
  form select:focus {
    outline: none;
  }
</style>


